<html>
  <head>
    <title>Say Cheese! (demo)</title>
  </head>

  <body>
    <h1>Say Cheese!</h1>
    <p>Webcam and photo-snapping utility</p>

    <!-- wrapper container for the video element -->
    <div id='say-cheese'></div>
    <style>#snapshots img { max-width: 200px; }</style>
    <div id='snapshots'></div>
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js'></script>
    <script src='say-cheese.js'></script>
    <script>
      $(function() {
        var sayCheese = new SayCheese('#say-cheese');
        sayCheese.on('start', function(evt) {
          console.log('hi');
        });

        sayCheese.on('change', function() {
          this.takeSnapshot();
        });
        sayCheese.on('snapshot', function(evt, snapshot) {
          console.log(snapshot, this.viewfinder);
          img = document.createElement('img');
          img.src = snapshot.toDataURL('image/png');
          $(img).on('load', function() {
            $('#snapshots').prepend(img);
          });
        });

        sayCheese.start();
      });
    </script>
  </body>
</html>
