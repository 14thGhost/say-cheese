<!DOCTYPE html>
<html>
  <head>
    <title>Say Cheese!</title>
    <link rel='stylesheet' href='public/css/bootstrap.min.css'>
    <link rel='stylesheet' href='public/css/pygments.css'>
    <link rel='stylesheet' href='public/css/say-cheese.css'>
  </head>

  <body>

    <div class='container'>
      <div class='row'>
        <div class='span12'>
          <h1>Say Cheese!</h1>
          <p class='lead'>Minimal javascript library for integrating a webcam and snapshots into your app.</p>
          <iframe src="http://ghbtns.com/github-btn.html?user=leemachin&repo=say-cheese&type=watch&count=true&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="152px" height="30px"></iframe>
          <iframe src="http://ghbtns.com/github-btn.html?user=leemachin&repo=say-cheese&type=fork&count=true&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="146px" height="30px"></iframe>

        </div>
      </div>

      <div class='row'>
        <div class='span12 say-cheese'>
          <div id='say-cheese-container'>
            <div id='action-buttons'>
              <button class='btn btn-inverse' id='reset-viewfinder'>reset</button>
              <button class='btn btn-success' id='take-snapshot'>snap!</button>
            </div>
          </div>
          <div id='say-cheese-snapshots'></div>
        </div>
      </div>

      <div class='row'>
        <div class='span6'>
          <h3>Taking pictures</h3>
          <p><strong>Say Cheese</strong> exposes a simple, event-based API for taking snapshots from your webcam:</p>

<div class="highlight"><pre><code class="javascript"><span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">sayCheese</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SayCheese</span><span class="p">(</span><span class="s1">&#39;#container-element&#39;</span><span class="p">);</span>
  <span class="nx">sayCheese</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;start&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">evt</span><span class="p">,</span> <span class="nx">snapshot</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">takeSnapshot</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="nx">sayCheese</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;change&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">evt</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something when the viewfinder is resized</span>
  <span class="p">});</span>

  <span class="nx">sayCheese</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;snapshot&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">evt</span><span class="p">,</span> <span class="nx">snapshot</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// a snapshot has been taken, do something with it :)</span>
  <span class="p">});</span>

  <span class="nx">sayCheese</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span>
<span class="p">});</span>
</code></pre>
</div>


        </div>
        <div class='span6'>
          <h3>Possible use cases</h3>
          <ul>
            <li>Upload profile avatars direct from your webcam
            <li>Take photos at a set interval
            <li>Further manipulate canvas output
          </ul>

          <h3>Status and Compatibility</h3>
          <p>This bad boy is only going to work for the latest and greatest browsers. Currently, that appears to be <strong>Chrome</strong> and <strong>Opera</strong>.</p>
          <p>The library itself is currently a proof of concept. It works, and it's functional, but it's by no means robust. Behaviour may change unexpectedly for no discernible reason.</p>
          <p><strong>Patches welcome!</strong></p>
        </div>
      </div>
    </div>

    <footer>
      <div class='container'>
        <hr>
        <p>Cobbled together by <a href='http://leemach.in'>Lee Machin</a>, 2012</p>
      </div>
    </footer>


    <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js'></script>
    <script src='public/js/bootstrap.min.js'></script>
    <script src='https://raw.github.com/leemachin/say-cheese/master/say-cheese.js'></script>
    <script>
      $(function() {
        var sayCheese = new SayCheese('#say-cheese-container');

        sayCheese.on('start', function(evt) {
          $('#action-buttons').fadeIn('fast');

          $('#reset-viewfinder').on('click', function(evt) {
            event.stopImmediatePropagation();
            sayCheese.resetViewfinder();
          });

          $('#take-snapshot').on('click', function(evt) {
            evt.stopImmediatePropagation();
            sayCheese.takeSnapshot();
          });
        });

        sayCheese.on('snapshot', function(evt, snapshot) {
          var img = document.createElement('img');

          $(img).on('load', function() {
            $('#say-cheese-snapshots').prepend(img);
          });
          img.src = snapshot.toDataURL('image/png');
        });

        sayCheese.start();
      });
    </script>
  </body>
</html>
